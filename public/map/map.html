<header ng-include="'public/menu/menu.html'"></header>

<section id="map">

  <div class="svgContainer {{elem.id}}" id="kingdom{{elem.id}}" ng-repeat="elem in kingdoms" ng-click="selectEnemy(elem.id)">
    <div class="attackButton" ng-click="attack(elem.id)">
      <img src="./img/icons/attack_button-01.svg"></img>
      <span>Attack!</span>
    </div>
  </div>



  <div class="goToMyKingdom" type="button" name="button" ng-click="scrollToKingdom.home()"></div>

  <select class="goToKingdom" ng-model="selected" ng-change="selectKingdom()">
    <option value="select">Select Kingdom</option>
    <option value="{{user.id}}" ng-repeat="user in kingdoms" >{{user.kingdom}}</option>
  </select>


  <aside class="userDetails">
    <div class="sideElem">
      <img src="./img/assets/academynobg.svg"></img>
      <span>{{academyNum}}</span>
    </div>
    <div class="sideElem">
      <img src="./img/assets/factorynobg.svg"></img>
      <span>{{factoryNum}}</span>
    </div>
    <div class="sideElem">
      <img src="./img/assets/minenobg.svg"></img>
      <span>{{mineNum}}</span>
    </div>
    <div class="sideElem">
      <img src="./img/assets/troopsnobg2.svg"></img>
      <span>{{troops}}</span>
    </div>
  </aside>

  <div class="availableTroops" ng-show="showTroops">
    <h3>Select foxes</h3>
    <div class="troopsContainer">
      <div class="troop troop{{troop.id}}" ng-repeat="troop in myTroops" ng-click ="selectTroop(troop.id)">
        <div class="progress" style="width:{{troop.hp}}%;">
          <!-- <div class="hp" style="width: {{troop.hp}}%;"></div> -->
        </div>
        <div class="badge">{{troop.level}}</div>
      </div>
    </div>
    <button class="startBattleButton">start battle</button>
  </div>

  <div class="enemyDetails" ng-show="showEnemy">
    <h3>About {{kingdom}}</h3>
    <div class="buildings">
      <div class="detail">
        <img src="./img/assets/townhall.svg"></img>
        <span>level {{stationLevelEnemy}}</span>
      </div>

      <div class="detail">
        <img src="./img/assets/troopbg.svg"></img>
        <span>{{troopsNum}}</span>
      </div>

      <div class="detail">
        <img src="./img/assets/academy.svg"></img>
        <span>{{academyNumEnemy}}</span>
      </div>

      <div class="detail">
        <img src="./img/assets/factory.svg"></img>
        <span>{{factoryNumEnemy}}</span>
      </div>

      <div class="detail">
        <img src="./img/assets/mine.svg"></img>
        <span>{{mineNumEnemy}}</span>
      </div>
    </div>

  </div>

  <div class="battleResult" ng-show="attackEnded">
    <div class="close" ng-click="attackEnded = false"></div>
    <div class="result">
      <div class="icon"></div>
      <h2>{{battleResult}}</h2>
    </div>
    <p class="damage">You caused {{damageResult}} damage to {{defendedKingdom}}</p>
    <p class="troops">{{troopsResult}} foxes died during the battle</p>
  </div>


</section>
